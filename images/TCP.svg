<svg xmlns:ev="http://www.w3.org/2001/xml-events" width="1132" viewBox="0 0 1132 1597" height="1597" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><defs/><g id="page1" transform="translate(5.5,5.5)"><rect x="0" width="1123" height="1587" fill="#ffffff" y="0"/><g id="shape1" transform="translate(209.63,170)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="31.9" y="29.5">socket()</tspan></text></g><g id="shape2" transform="matrix(0.99,0.1,-0.1,0.99,340,345)"><path d="M0,0L407.1,0" stroke="#191919" fill="none"/><path d="M407.1,-3L413.1,0L407.1,3L407.1,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape3" transform="translate(743,63)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="31.9" y="29.5">socket()</tspan></text></g><g id="shape4" transform="translate(743,189)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="36" y="29.5">listen()</tspan></text></g><g id="shape5" transform="translate(743,126)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="39.4" y="29.5">bind()</tspan></text></g><g id="shape6" transform="translate(743,300.82)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="12.3" y="32.5">accept()[阻塞]</tspan></text></g><g id="shape7" transform="translate(743,933)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="36" y="29.5">close()</tspan></text></g><g id="shape8" transform="translate(209.63,252)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="8.1" y="32.5">connect()[阻塞]</tspan></text></g><g id="shape9" transform="translate(209.63,655)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="36" y="29.5">close()</tspan></text></g><g id="shape10" transform="translate(743,505.7)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="12.3" y="22">accept()[返回]</tspan><tspan x="19.4" y="43">read()[阻塞]</tspan></text></g><g id="shape11" transform="translate(743,661)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="37.7" y="19">write()</tspan><tspan x="19.4" y="40">read()[阻塞]</tspan></text></g><g id="shape12" transform="translate(743,819.3)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="15.2" y="32.5">read()[返回0]</tspan></text></g><g id="shape13" transform="translate(209.63,567)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="19.4" y="32.5">read()[返回]</tspan></text></g><g id="shape14" transform="translate(209.63,490.3)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="37.7" y="19">write()</tspan><tspan x="19.4" y="40">read()[阻塞]</tspan></text></g><g id="shape15" transform="translate(268.13,220)"><path d="M0,0L0,26" stroke="#191919" fill="none"/><path d="M3,26L0,32L-3,26L3,26" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape16" transform="translate(268.13,302)"><path d="M0,0L0,182.3" stroke="#191919" fill="none"/><path d="M3,182.3L0,188.3L-3,182.3L3,182.3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape17" transform="translate(268.13,540.3)"><path d="M0,0L-0,20.7" stroke="#191919" fill="none"/><path d="M3,20.7L-0,26.7L-3,20.7L3,20.7" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape18" transform="translate(268.13,617)"><path d="M0,0L0,32" stroke="#191919" fill="none"/><path d="M3,32L0,38L-3,32L3,32" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape19" transform="translate(801.5,113)"><path d="M0,0L0,7" stroke="#191919" fill="none"/><path d="M3,7L0,13L-3,7L3,7" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape20" transform="translate(801.5,176)"><path d="M0,0L0,7" stroke="#191919" fill="none"/><path d="M3,7L0,13L-3,7L3,7" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape21" transform="translate(801.5,239)"><path d="M0,0L0,55.8" stroke="#191919" fill="none"/><path d="M3,55.8L0,61.8L-3,55.8L3,55.8" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape22" transform="translate(801.5,350.82)"><path d="M0,0L0,148.9" stroke="#191919" fill="none"/><path d="M3,148.9L0,154.9L-3,148.9L3,148.9" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape23" transform="translate(801.5,711)"><path d="M0,0L0,102.3" stroke="#191919" fill="none"/><path d="M3,102.3L0,108.3L-3,102.3L3,102.3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape24" transform="translate(801.5,869.3)"><path d="M0,0L0,57.7" stroke="#191919" fill="none"/><path d="M3,57.7L0,63.7L-3,57.7L3,57.7" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape25" transform="matrix(0.97,0.23,-0.23,0.97,326.6,680)"><path d="M0,0L415.2,0" stroke="#191919" fill="none"/><path d="M415.2,-3L421.2,0L415.2,3L415.2,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape26" transform="translate(196.26,315)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="32.3" y="22">SYN_SENT</tspan><tspan x="37.7" y="43">[主动打开]</tspan></text></g><g id="shape27" transform="translate(729.63,237.35)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="45.6" y="22">LISTEN</tspan><tspan x="37.7" y="43">[被动打开]</tspan></text></g><g id="shape28" transform="translate(729.63,359)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="31" y="32.5">SYN_RCVD</tspan></text></g><g id="shape29" transform="matrix(-0.99,0.12,-0.12,-0.99,751,387)"><path d="M0,0L417.2,0" stroke="#191919" fill="none"/><path d="M417.2,-3L423.2,0L417.2,3L417.2,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape30" transform="translate(196.26,416)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="20.8" y="32.5">ESTABLISHED</tspan></text></g><g id="shape31" transform="translate(729.63,444.35)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="20.8" y="32.5">ESTABLISHED</tspan></text></g><g id="shape32" transform="matrix(1,0.08,-0.08,1,332.3,438.8)"><path d="M0,0L409.1,0" stroke="#191919" fill="none"/><path d="M409.1,-3L415.1,0L409.1,3L409.1,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape33" transform="translate(743,580)"><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff"/><text style="fill:#191919;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="19.4" y="32.5">read()[返回]</tspan></text></g><g id="shape34" transform="translate(801.5,555.7)"><path d="M0,0L0,18.3" stroke="#191919" fill="none"/><path d="M3,18.3L0,24.3L-3,18.3L3,18.3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape35" transform="translate(85.14,490.3)"><text style="fill:#191919;font-family:微软雅黑;font-size:9.75pt" xml:space="preserve"><tspan x="8.4" y="36.6">&lt;客户端构造请求></tspan></text></g><g id="shape36" transform="translate(860.14,575.9)"><text style="fill:#191919;font-family:微软雅黑;font-size:9.75pt" xml:space="preserve"><tspan x="8.4" y="37">&lt;服务端处理请求></tspan></text></g><g id="shape37" transform="matrix(0.98,0.21,-0.21,0.98,326.6,515.3)"><path d="M0,0L419.9,0" stroke="#191919" fill="none"/><path d="M419.9,-3L425.9,0L419.9,3L419.9,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape38" transform="translate(85.14,367.05)"><text style="fill:#191919;font-family:微软雅黑;font-size:9.75pt" xml:space="preserve"><tspan x="27.9" y="37">&lt;三次握手></tspan></text></g><g id="shape39" transform="translate(801.5,630)"><path d="M0,0L0,25" stroke="#191919" fill="none"/><path d="M3,25L0,31L-3,25L3,25" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape40" transform="matrix(-0.98,-0.22,0.22,-0.98,743,686)"><path d="M0,0L420.8,0" stroke="#191919" fill="none"/><path d="M420.8,-3L426.8,0L420.8,3L420.8,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape41" transform="translate(729.63,744)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="23.8" y="22">CLOSE_WAIT</tspan><tspan x="37.7" y="43">[被动关闭]</tspan></text></g><g id="shape42" transform="translate(196.26,755.03)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="28.9" y="32.5">FIN_WAIT_1</tspan></text></g><g id="shape43" transform="translate(196.26,860.35)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="28.9" y="32.5">FIN_WAIT_2</tspan></text></g><g id="shape44" transform="translate(196.26,974.35)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="31.4" y="32.5">TIME_WAIT</tspan></text></g><g id="shape45" transform="translate(268.13,705)"><path d="M0,0L-0,376.4" stroke="#191919" fill="none"/><path d="M3,376.4L-0,382.4L-3,376.4L3,376.4" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape46" transform="matrix(-0.99,0.1,-0.1,-0.99,743,844.3)"><path d="M0,0L418.3,0" stroke="#191919" fill="none"/><path d="M418.3,-3L424.3,0L418.3,3L418.3,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape47" transform="matrix(-0.99,0.1,-0.1,-0.99,743,958)"><path d="M0,0L418.3,0" stroke="#191919" fill="none"/><path d="M418.3,-3L424.3,0L418.3,3L418.3,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape48" transform="translate(729.63,983.7)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="33.5" y="32.5">LAST_ACK</tspan></text></g><g id="shape49" transform="translate(801.5,983)"><path d="M0,0L0,220" stroke="#191919" fill="none"/><path d="M3,220L0,226L-3,220L3,220" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><g id="shape50" transform="translate(729.63,1144.35)"><text style="fill:#e54648;font-family:微软雅黑;font-size:11.25pt" xml:space="preserve"><tspan x="41" y="32.5">CLOSED</tspan></text></g><g id="shape51" transform="matrix(0.99,0.14,-0.14,0.99,326.6,1112.4)"><path d="M0,0L427.5,0" stroke="#191919" fill="none"/><path d="M427.5,-3L433.5,0L427.5,3L427.5,-3" stroke-linecap="round" stroke-width="1" stroke="#191919" fill="#191919"/></g><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff" id="shape52" transform="translate(209.63,1087.35)"/><path d="M11,0L106,0C112.1,0,117,4.9,117,11L117,39C117,45.1,112.1,50,106,50L11,50C4.9,50,0,45.1,0,39L0,11C0,4.9,4.9,0,11,0z" stroke="#191919" fill-rule="evenodd" fill="#ffffff" id="shape53" transform="translate(743,1209)"/><g id="shape54" transform="translate(76,877.9)"><text style="fill:#191919;font-family:微软雅黑;font-size:9.75pt" xml:space="preserve"><tspan x="27.9" y="37">&lt;四次挥手></tspan></text></g><g id="shape55" transform="translate(364.78,338.3)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="36.7" y="19">SYN J,MSS</tspan></text></g><g id="shape56" transform="translate(379.78,401)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="14.7" y="19">SYN K,ACK J+1,MSS</tspan></text></g><g id="shape57" transform="translate(563.89,444.35)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="40.9" y="19">ACK=K+1</tspan></text></g><g id="shape58" transform="translate(417.78,516.5)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="29.2" y="19">DATA[Request]</tspan></text></g><g id="shape59" transform="translate(417.78,608.75)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="25.3" y="19">DATA[Response]</tspan></text></g><g id="shape60" transform="translate(446,694)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="49.5" y="19">FIN M</tspan></text></g><g id="shape61" transform="translate(425.78,837.3)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="41.6" y="19">ACK M+1</tspan></text></g><g id="shape62" transform="translate(425.78,951)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="50.1" y="19">FIN N</tspan></text></g><g id="shape63" transform="translate(438,1105.35)"><text style="fill:#191919;font-family:微软雅黑;font-size:7.5pt" xml:space="preserve"><tspan x="42.2" y="19">ACK N+1</tspan></text></g><g id="shape64" transform="translate(219.48,1011)"><text style="fill:#191919;font-family:微软雅黑;font-size:9.75pt" xml:space="preserve"><tspan x="4.4" y="21">1.实现终止TCP全双工连接的可靠性，ACK N+1可能丢失</tspan><tspan x="4.4" y="40">2.允许之前连接中迷途的重复分节在网络中消逝</tspan></text></g></g></svg>